{% extends 'base.html' %}
{% load static %}
{% block title %}Profile | About{% endblock %}
{% block content %}
<h1>Profile</h1>
{% if profile.login %}
    <img src="{{ profile.image.versions.small }}" alt="{{ profile.login }}">
    <p>Name: {{ profile.login }}</p>
    <p>Email: {{ profile.email }}</p>
{% else %}
    <p>No profile data available.</p>
{% endif %}

<h2>Match Results</h2>
{% if games %}
<ul>
{% for game in games %}
    <li>
        <strong>Game ID:</strong> {{ game.id }} <br>
        <strong>Date:</strong> {{ game.date|date:"Y-m-d H:i:s" }} <br>
        <strong>Players:</strong>
        <ul>
            {% for player in game.players.all %}
                <li>{{ player.user.username }} - Score: {{ player.score }} - Team: {{ player.team }}{% if player.winner %} (Winner){% endif %}</li>
            {% endfor %}
        </ul>
    </li>
{% endfor %}
</ul>
{% else %}
<p>No games available.</p>
{% endif %}
{% endblock %}
